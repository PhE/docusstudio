{"_path":"/docs/craftform/script/generate","_dir":"script","_draft":false,"_partial":false,"_locale":"","title":"generate","description":"A PDF is generated when the form is finalized or previewed.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"generate"},"children":[{"type":"text","value":"generate"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A PDF is generated when the form is "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"finalized"}]},{"type":"text","value":" or "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"previewed"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"steps"},"children":[{"type":"text","value":"steps"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sub-steps of PDF generation,\nmain entry point : "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"services.core.craft.tools.generate_files"}]},{"type":"text","value":" :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"grab all files from user session "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"tools2.grab_context_from_storage_to_local_temp()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"(re)process dropped files "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"process_dropped_files()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"template guess : "},{"type":"element","tag":"a","props":{"href":"template#template_get"},"children":[{"type":"text","value":"script.template_get"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"raw PDF generation : "},{"type":"element","tag":"a","props":{"href":"#generate_pdf"},"children":[{"type":"text","value":"script.generate_pdf"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"raw PDF post-generation : "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"generate_pdf_post()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"metadata generation : "},{"type":"element","tag":"a","props":{"href":"#generate_metadata"},"children":[{"type":"text","value":"script.generate_metadata"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"metadata post-generation : "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"generate_metadata_post()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"signature generation : "},{"type":"element","tag":"a","props":{"href":"signature#generate_signature"},"children":[{"type":"text","value":"script.generate_signature"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"signature post-generation : "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"generate_signature_post()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"store PDF in user session : "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"session.store()"}]}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TODO: The generate function can't be overloaded itself,\nOnly the steps "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"script.*"}]},{"type":"text","value":" can be overloaded."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The function will return a "},{"type":"element","tag":"a","props":{"href":"#return-generatestatus"},"children":[{"type":"text","value":"generateStatus()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Callbacks :"}]},{"type":"element","tag":"ppw-mermaid","props":{"def":"flowchart TD\n    generate_files --> template_get\n    generate_files --> generate_pdf\n    generate_pdf --> generate_template_odt\n    generate_pdf --> generate_template_svg\n    generate_pdf --> generate_template_docx\n    generate_pdf --> generate_template_typ\n    generate_pdf --> file_ext[\"generate_template_{ext}\"]\n    generate_files --> generate_metadata\n    generate_files --> generate_signature\n"},"children":[]},{"type":"element","tag":"h2","props":{"id":"generate_pdf"},"children":[{"type":"text","value":"generate_pdf()"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The function must return a "},{"type":"element","tag":"a","props":{"href":"#return-generatepdfstatus"},"children":[{"type":"text","value":"generatePDFStatus()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The generated PDF will not be accessible in later steps\nto prevent any modification !\nAt this step, all present metadata, including signatures,\ncould be remove by the engine."}]}]},{"type":"element","tag":"h2","props":{"id":"generate_metadata"},"children":[{"type":"text","value":"generate_metadata()"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The function must return a "},{"type":"element","tag":"a","props":{"href":"#return-generatemetadatastatus"},"children":[{"type":"text","value":"generateMetadataStatus()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TODO: Need to be documented"}]}]},{"type":"element","tag":"h2","props":{"id":"return-generatestatus"},"children":[{"type":"text","value":"return GenerateStatus"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"generate_files"}]},{"type":"text","value":" function should return an "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"GenerateStatus"}]},{"type":"text","value":".\nIt will give to the client form some information on how the upload was proceed and what to do client-side."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sample :"}]},{"type":"element","tag":"pre","props":{"className":"language-yaml shiki shiki-themes github-light github-dark","code":"generated_pdf: invoice_FA63523.pdf\nmsg: \"Your invoice #FA63523 has been generated\"\n","language":"yaml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"generated_pdf"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"invoice_FA63523.pdf"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"msg"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"Your invoice #FA63523 has been generated\""}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"generated_pdf"},"children":[{"type":"text","value":".generated_pdf"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TODO: Need to be documented"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional property.\nIf not set the generated PDF is expected to be "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"_output.pdf"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"msg"},"children":[{"type":"text","value":".msg"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TODO: Need to be documented"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional property."}]},{"type":"element","tag":"h2","props":{"id":"return-generatepdfstatus"},"children":[{"type":"text","value":"return GeneratePDFStatus"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"generate_pdf"}]},{"type":"text","value":" function should return an "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"GeneratePDFStatus"}]},{"type":"text","value":".\nIt will give some information on the PDF generation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sample :"}]},{"type":"element","tag":"pre","props":{"className":"language-yaml shiki shiki-themes github-light github-dark","code":"generated_file: /tmp/GhU67et/mydocument.pdf\nmsg: \"Your invoice #FA63523 has been generated\"\n","language":"yaml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"generated_file"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"/tmp/GhU67et/mydocument.pdf"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"msg"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"Your invoice #FA63523 has been generated\""}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"generated_file"},"children":[{"type":"text","value":".generated_file"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The generated PDF path.\nThe file must exist and be a valid PDF file."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional property.\nIf not set the generated PDF is expected to be "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"_output.pdf"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"filename"},"children":[{"type":"text","value":".filename"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The visible filename.\nAny meaningfull filename should be provided.\nWhen downloading the file, this filename will be used."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"At this exact time of processing, this filename does not point to an actual file."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional property."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sample :"}]},{"type":"element","tag":"pre","props":{"className":"language-yaml shiki shiki-themes github-light github-dark","code":"generated_file: /tmp/GhU67et/mydocument.pdf\nfilename: invoice_FA63523.pdf\nmsg: \"Your invoice #FA63523 has been generated\"\n","language":"yaml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"generated_file"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"/tmp/GhU67et/mydocument.pdf"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"filename"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"invoice_FA63523.pdf"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"msg"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"Your invoice #FA63523 has been generated\""}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"msg-1"},"children":[{"type":"text","value":".msg"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The message explaining to the user how the upload happened."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional property."}]},{"type":"element","tag":"h3","props":{"id":"metadata"},"children":[{"type":"text","value":".metadata"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional "},{"type":"element","tag":"a","props":{"href":"#return-generatemetadatastatus"},"children":[{"type":"text","value":"metadata status"}]},{"type":"text","value":".\nSometimes it is easier to collect metadata at the same time we generate the PDF.\nIn this case just return the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"metadata"}]},{"type":"text","value":" property."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional property.\nIf set the "},{"type":"element","tag":"a","props":{"href":"#generate_metadata"},"children":[{"type":"text","value":"generate_metadata() callback"}]},{"type":"text","value":" will not be called !"}]},{"type":"element","tag":"h3","props":{"id":"signatures"},"children":[{"type":"text","value":".signatures"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TODO: Need to be documented"}]}]},{"type":"element","tag":"h3","props":{"id":"delivery"},"children":[{"type":"text","value":".delivery"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TODO: Need to be documented"}]}]},{"type":"element","tag":"h2","props":{"id":"return-generatemetadatastatus"},"children":[{"type":"text","value":"return GenerateMetadataStatus"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"a","props":{"href":"#generate_metadata"},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"genergenerate_metadataate_pdf()"}]},{"type":"text","value":" function"}]},{"type":"text","value":" should return a "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"GeneratePDFStatus"}]},{"type":"text","value":".\nIt will give some information on the PDF generation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sample :"}]},{"type":"element","tag":"pre","props":{"className":"language-yaml shiki shiki-themes github-light github-dark","code":"document_metadata:\n    tier:\n        id: GDT67678\n        name: Duroux SA\n    amount: 700.0\n    orders:\n        - id: \"6767\"\n          amount: 200.0\n        - id: \"6768\"\n          amount: 100.0\n        - id: \"6769\"\n          amount: 400.0\ndocument_xmp:\n    CUST_REF: GDT67678\n    TRACK_NUMBER: \"8667-656-5656-002\"\nattached_files:\n    - path: extract.xml\n    - path: dashboard.xlsx\n      name: Tableau_de_bord_20230223.xlsx\n    - path: orders/order_6767.pdf\n    - path: orders/order_6768.pdf\n    - path: orders/order_6769.pdf\n","language":"yaml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"document_metadata"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    tier"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"        id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"GDT67678"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"        name"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"Duroux SA"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"700.0"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    orders"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"6767\""}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"          amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"200.0"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"6768\""}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"          amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"100.0"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"6769\""}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"          amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"400.0"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"document_xmp"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    CUST_REF"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"GDT67678"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    TRACK_NUMBER"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"8667-656-5656-002\""}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"attached_files"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"extract.xml"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"dashboard.xlsx"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      name"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"Tableau_de_bord_20230223.xlsx"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"orders/order_6767.pdf"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"orders/order_6768.pdf"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"orders/order_6769.pdf"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"document_metadata"},"children":[{"type":"text","value":".document_metadata"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A dict of the document metadata."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"$schema"}]},{"type":"text","value":" prop will be automatically added."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The document metadata will be stored as a "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"meta.yaml"}]},{"type":"text","value":" attachment."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Mandatory property."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sample :"}]},{"type":"element","tag":"pre","props":{"className":"language-yaml shiki shiki-themes github-light github-dark","code":"document_metadata:\n    tier:\n        id: GDT67678\n        name: Duroux SA\n    amount: 700.0\n    orders:\n        - id: \"6767\"\n          amount: 200.0\n        - id: \"6768\"\n          amount: 100.0\n        - id: \"6769\"\n          amount: 400.0\n","language":"yaml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"document_metadata"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    tier"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"        id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"GDT67678"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"        name"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"Duroux SA"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"700.0"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    orders"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"6767\""}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"          amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"200.0"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"6768\""}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"          amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"100.0"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"6769\""}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"          amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"400.0"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"document_xmp"},"children":[{"type":"text","value":".document_xmp"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some document metadata that will be added as XMP tags."}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some XMP tags are reserved and will be ignored if provided."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional property."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sample :"}]},{"type":"element","tag":"pre","props":{"className":"language-yaml shiki shiki-themes github-light github-dark","code":"document_xmp:\n    CUST_REF: GDT67678\n    TRACK_NUMBER: \"8667-656-5656-002\"\n","language":"yaml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"document_xmp"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    CUST_REF"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"GDT67678"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    TRACK_NUMBER"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"8667-656-5656-002\""}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"attached_files"},"children":[{"type":"text","value":".attached_files"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"List if file to attach to the PDF."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You don't need to provided the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"meta.yaml"}]},{"type":"text","value":" attachment.\nIt will be automatically generated."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Optional property."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sample :"}]},{"type":"element","tag":"pre","props":{"className":"language-yaml shiki shiki-themes github-light github-dark","code":"attached_files:\n    - path: extract.xml\n    - path: dashboard.xlsx\n      name: Tableau_de_bord_20230223.xlsx\n    - path: orders/order_6767.pdf\n    - path: orders/order_6768.pdf\n    - path: orders/order_6769.pdf\n\n","language":"yaml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"attached_files"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"extract.xml"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"dashboard.xlsx"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      name"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"Tableau_de_bord_20230223.xlsx"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"orders/order_6767.pdf"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"orders/order_6768.pdf"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"orders/order_6769.pdf"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" are local to the user session."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html.dark .shiki span {color: var(--shiki-dark) !important;background: var(--shiki-dark-bg) !important;font-style: var(--shiki-dark-font-style) !important;font-weight: var(--shiki-dark-font-weight) !important;text-decoration: var(--shiki-dark-text-decoration) !important;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"steps","depth":2,"text":"steps"},{"id":"generate_pdf","depth":2,"text":"generate_pdf()"},{"id":"generate_metadata","depth":2,"text":"generate_metadata()"},{"id":"return-generatestatus","depth":2,"text":"return GenerateStatus","children":[{"id":"generated_pdf","depth":3,"text":".generated_pdf"},{"id":"msg","depth":3,"text":".msg"}]},{"id":"return-generatepdfstatus","depth":2,"text":"return GeneratePDFStatus","children":[{"id":"generated_file","depth":3,"text":".generated_file"},{"id":"filename","depth":3,"text":".filename"},{"id":"msg-1","depth":3,"text":".msg"},{"id":"metadata","depth":3,"text":".metadata"},{"id":"signatures","depth":3,"text":".signatures"},{"id":"delivery","depth":3,"text":".delivery"}]},{"id":"return-generatemetadatastatus","depth":2,"text":"return GenerateMetadataStatus","children":[{"id":"document_metadata","depth":3,"text":".document_metadata"},{"id":"document_xmp","depth":3,"text":".document_xmp"},{"id":"attached_files","depth":3,"text":".attached_files"}]}]}},"_type":"markdown","_id":"content:10.docs:30.craftform:script:generate.md","_source":"content","_file":"10.docs/30.craftform/script/generate.md","_extension":"md"}