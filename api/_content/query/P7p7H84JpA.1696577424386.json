{"_path":"/docs/team/services/perm/plans","_dir":"perm","_draft":false,"_partial":false,"_locale":"","title":"Plans","description":"Each authenticated user is associated with a plan.\nThis plan grants him access to paxper services.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"plans"},"children":[{"type":"text","value":"Plans"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each authenticated user is associated with a plan.\nThis plan grants him access to paxper services."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Les limitations concernent :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"l'accès aux services"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"les objects de références (checklist, crafform, ...)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Les attributs d'un plan :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"nombre de checklists privées"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"nombre de craft forms privées"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"nombre de checkmodules privées"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"nombre de templates privées"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"nombre d'invitations"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A plan name starting with an underscore "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"_"}]},{"type":"text","value":" will not be visible."}]},{"type":"element","tag":"h2","props":{"id":"_all-plan"},"children":[{"type":"text","value":"_all plan"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"_all"}]},{"type":"text","value":" plan is a special plan that is attached to any user\n(identified or not)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the plan that must contain all the public routes."}]},{"type":"element","tag":"h2","props":{"id":"_admin-plan"},"children":[{"type":"text","value":"_admin plan"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"_admin"}]},{"type":"text","value":" plan contains all the roles for administrator access."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"!!! danger\nThis plan is very dangerous and should be granted wisely"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"!!! note\nMore specialized plans like "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"_support"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"_billing"}]},{"type":"text","value":" should be created\nto avoid the user of the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"_admin"}]},{"type":"text","value":" plan."}]},{"type":"element","tag":"h2","props":{"id":"ref-common"},"children":[{"type":"text","value":"ref-common"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Roles are defined in the file "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"pp-ref-common/_sys/plans.yaml"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is an example of a plan definition :"}]},{"type":"element","tag":"pre","props":{"className":"language-yaml shiki shiki-themes github-light github-dark","code":"# ┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉ #\n  - id: test-solo\n    #visible: true\n    title: Solo\n    unit: / mois\n    button: souscrire\n    features:\n      - Accès Illimité - Documents PDF générés et vérifés\n      - Accès Illimité - Référentiel public (formulaires, modèles, vérifications)\n      - Accès Limité - Référentiel privé (1 formulaire, 1 modèle, 1 vérification)\n      - Accès Illimité - Compte Utilisateur\n      - 1 Compte Emetteur-référent\n      - Gratuit - Coût de mise en oeuvre\n      - 48h - Délai Support\n      - ❌\n\n    prices:\n    - price_id: price_1KG7DFFvDsHBMRpKQ85owXSA\n      payment_link: https://buy.stripe.com/test_5kAbMr51h3Ba6T6aEG\n      domain: dev17.paxpar.tech\n      amount: 79 €\n    - price_id: price_1KGmz5FvDsHBMRpKjImdmuw0\n      payment_link: https://buy.stripe.com/test_4gweYDbpFc7GfpC9AH\n      domain: dev.paxpar.tech\n      amount: 79 €\n      # Tarif SOLO - uat - compte stripe Arundo\n    - price_id: price_1KLoKpK0npsJqs8MUFfR6Trb\n      payment_link: https://buy.stripe.com/test_6oE16x1QD2beclq4gh\n      domain: uat.paxpar.tech\n      amount: 79 €\n      # Tarif SOLO - prod - compte stripe Arundo\n#    - price_id: price_1KMrjqK0npsJqs8MBMzLXB32\n#      payment_link: https://buy.stripe.com/5kA8xBgxqdib8lGeUV\n#      domain: prod.paxpar.tech\n#      amount: 79 €\n    roles:\n      - view\n      - check\n      - custom_style\n      - custom_domain\n      - role: sign\n        limits:\n          - metric: signatures\n            max: 3\n            hard_limit: true\n\n    image: https://media.paxpar.tech/plan2_solo.jpeg\n# ┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉ #\n","language":"yaml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"color:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"# ┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉ #"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"  - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"test-solo"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"color:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"    #visible: true"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    title"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"Solo"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    unit"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"/ mois"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    button"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"souscrire"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    features"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"Accès Illimité - Documents PDF générés et vérifés"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"Accès Illimité - Référentiel public (formulaires, modèles, vérifications)"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"Accès Limité - Référentiel privé (1 formulaire, 1 modèle, 1 vérification)"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"Accès Illimité - Compte Utilisateur"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"1 Compte Emetteur-référent"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"Gratuit - Coût de mise en oeuvre"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"48h - Délai Support"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"❌"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    prices"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"price_id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"price_1KG7DFFvDsHBMRpKQ85owXSA"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      payment_link"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"https://buy.stripe.com/test_5kAbMr51h3Ba6T6aEG"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      domain"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"dev17.paxpar.tech"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"79 €"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"price_id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"price_1KGmz5FvDsHBMRpKjImdmuw0"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      payment_link"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"https://buy.stripe.com/test_4gweYDbpFc7GfpC9AH"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      domain"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"dev.paxpar.tech"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"79 €"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"color:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"      # Tarif SOLO - uat - compte stripe Arundo"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"price_id"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"price_1KLoKpK0npsJqs8MUFfR6Trb"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      payment_link"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"https://buy.stripe.com/test_6oE16x1QD2beclq4gh"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      domain"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"uat.paxpar.tech"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"      amount"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"79 €"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"style":"color:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"      # Tarif SOLO - prod - compte stripe Arundo"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"style":"color:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"#    - price_id: price_1KMrjqK0npsJqs8MBMzLXB32"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"style":"color:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"#      payment_link: https://buy.stripe.com/5kA8xBgxqdib8lGeUV"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"style":"color:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"#      domain: prod.paxpar.tech"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"style":"color:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"#      amount: 79 €"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    roles"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"view"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"check"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"custom_style"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"custom_domain"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"role"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"sign"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"        limits"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"          - "}]},{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"metric"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"signatures"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"            max"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"3"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"            hard_limit"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{"style":"color:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"    image"}]},{"type":"element","tag":"span","props":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"https://media.paxpar.tech/plan2_solo.jpeg"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{"style":"color:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"# ┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉┉ #"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"invitations"},"children":[{"type":"text","value":"Invitations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Une invitation permets d'accéder à une ressource privée.\ns\nPar exemple, un utilisateur peut utiliser un craftform après avoir reçu une invitation par un autre utilisateur."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Le nombre d'invitations qu'un utilisateur peut envoyer est limité."}]},{"type":"element","tag":"h2","props":{"id":"décompte-et-dépassement"},"children":[{"type":"text","value":"Décompte et dépassement"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'utilisateur qui a le plan crée les craftform et templates\navec le champs "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"owner"}]},{"type":"text","value":"contenant son identifiant (adresse de courriel) et le champs "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"scope"}]},{"type":"text","value":" contenant la valeur "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"private"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lors de l'actualisation du référentiel, le décompte des craftforms et templates et réalisés.\nSeuls ceux avec les valeurs de champs "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"owner"}]},{"type":"text","value":" et "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"scope"}]},{"type":"text","value":" correspondantes sont décomptés."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"En cas de dépassement, au choix :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"désactivation de l'object ("},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"active"}]},{"type":"text","value":": False)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"facturation supplémentaire"}]}]},{"type":"element","tag":"h2","props":{"id":"accès-aux-checklists"},"children":[{"type":"text","value":"Accès aux checklists"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Toutes les checklists sont accessibles.\nLes checklists privées sont utiilsables\nmais affichent un message indiquant qu'il faut être invité\n(ce message apparaît en KO)."}]},{"type":"element","tag":"h2","props":{"id":"accès-aux-craftforms"},"children":[{"type":"text","value":"Accès aux craftforms"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tous les craftforms sont accessibles.\nLes craftforms privés sont utilisables\nmais affichent un message indiquant qu'il faut être invité\n(ce message apparaît au lancement du formulaire\net sur chaque PDF généré)."}]},{"type":"element","tag":"h2","props":{"id":"accès-aux-checkmodules"},"children":[{"type":"text","value":"Accès aux checkmodules"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tous les chckmodules sont accessibles.\nLes checkmodules privés sont utilisables\nmais affichent un message indiquant qu'il faut être invité\n(ce message apparaît en KO,\nle développeur du modue peut maintenir ou pas le comportement normal)."}]},{"type":"element","tag":"h2","props":{"id":"accès-aux-templates"},"children":[{"type":"text","value":"Accès aux templates"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tous les templates sont accessibles.\nLes templates privés sont utilisables\nmais affichent un message indiquant qu'il faut être invité\n(ce message apparaît sur chaque PDF généré)."}]},{"type":"element","tag":"h2","props":{"id":"scenario-1"},"children":[{"type":"text","value":"Scenario 1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Le plan limite le nombre de craftform privés à 3\net le nombre de template à 10."}]},{"type":"element","tag":"h2","props":{"id":"wip-permauth"},"children":[{"type":"text","value":"WIP : perm/auth"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Cas de l'accès au craft form avec un template donné"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'URL est de la forme `/api/craft/{CRAFT_ID}?template={TEMPLATE_ID}̀"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Comme l'URL contient "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"{CRAFT_ID}"}]},{"type":"text","value":" on récupère la liste des objets publics ref autorisés par un appel API au service ref\ǹ GET /api/ref/craftform"},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":" (l'appel est mis-en-cache avec une durée assez long : 10mn) si dans la liste -> on autorise ("}]},{"type":"text","value":"FACTICE=False`, fin de la recherche)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"on récupère la liste des objets privés ref autorisés pour cet utilisateur par un appel API au service ref\ǹ GET /api/ref/craftform/private"},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":" (l'appel est mis-en-cache avec le timestamp du token ; utile pour invalider le cache lors d'un nouveau token). si dans la liste -> on autorise ("}]},{"type":"text","value":"FACTICE=False`, fin de la recherche)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sinon "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"FACTICE=True"}]},{"type":"text","value":"\n_\non fixe le header "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"FACTICE"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TODO: que faire pour les templates publiques ?"}]},{"type":"element","tag":"h2","props":{"id":"decisions-architectures"},"children":[{"type":"text","value":"Decisions architectures"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"OUI : Essayer de filtrer uniquement via le service perm"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NON : Mettre les id des objets ref autorisé dans le token ?\ncar celà risque d'être trop gros"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"OUI : avoir un appel API (en mettre en cache) pour obtenir les id des objets."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NON : Est-ce que le servic "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"perm"}]},{"type":"text","value":"peut modifier le PDF de retour ??\nNON car celà va casser les signatures"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"OUI : Injecter dans les headers la liste des objets autorisés ?"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NON : Marquer les URL qui renvoient des PDFs sensible pour pouvoir\nles marquer comme "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"factice"}]},{"type":"text","value":" depuis le service perm."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NON : Idem pour les checklists : filter/modifier les contenus renvoyés par l'API "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"api/checklist"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html.dark .shiki span {color: var(--shiki-dark) !important;background: var(--shiki-dark-bg) !important;font-style: var(--shiki-dark-font-style) !important;font-weight: var(--shiki-dark-font-weight) !important;text-decoration: var(--shiki-dark-text-decoration) !important;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"_all-plan","depth":2,"text":"_all plan"},{"id":"_admin-plan","depth":2,"text":"_admin plan"},{"id":"ref-common","depth":2,"text":"ref-common"},{"id":"invitations","depth":2,"text":"Invitations"},{"id":"décompte-et-dépassement","depth":2,"text":"Décompte et dépassement"},{"id":"accès-aux-checklists","depth":2,"text":"Accès aux checklists"},{"id":"accès-aux-craftforms","depth":2,"text":"Accès aux craftforms"},{"id":"accès-aux-checkmodules","depth":2,"text":"Accès aux checkmodules"},{"id":"accès-aux-templates","depth":2,"text":"Accès aux templates"},{"id":"scenario-1","depth":2,"text":"Scenario 1"},{"id":"wip-permauth","depth":2,"text":"WIP : perm/auth"},{"id":"decisions-architectures","depth":2,"text":"Decisions architectures"}]}},"_type":"markdown","_id":"content:10.docs:80.team:10.services:perm:plans.md","_source":"content","_file":"10.docs/80.team/10.services/perm/plans.md","_extension":"md"}